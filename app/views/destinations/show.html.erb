<div class="container" style="margin-bottom: 50px;">

  <h1 style="text-align: center;"><%= @destination.name %></h1>
  <div style="display: flex; align-items: flex-start; justify-content: center;">
    <p style="font-size: 14px; margin-right: 10px; margin-top: 0; padding-top: 2px;">Add to favourites</p>
    <%= link_to toggle_favorite_destination_path(@destination), remote: true, data: {turbo_method: :post}, style: "margin-top: 0;" do %>
      <%= render "destinations/like_button", destination: @destination %>
    <% end %>
  </div>
  <p style="text-align: center;"><%= @destination.description %></p>

  <div class="row justify-content-center">
    <div class="col-4">
      <div id="cardCarousel" class="carousel slide">
        <div class="carousel-inner" style="border-radius: 10px;">
          <div class="carousel-item active">
            <img class="card-img-top" src="<%= asset_path(@destination.image_path) %>" alt="Card image cap" style="height: 250px; border-radius: 10px;">
          </div>

          <div class="carousel-item">
            <img class="card-img-top" src="https://source.unsplash.com/random" alt="Card image cap" style="height: 250px; border-radius: 10px;">
          </div>

          <div class="carousel-item">
            <img class="card-img-top" src="https://source.unsplash.com/random/?food" alt="Card image cap" style="height: 250px; border-radius: 10px;">
          </div>
        </div>

        <a class="carousel-control-prev" href="#cardCarousel" role="button" data-bs-slide="prev">
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="sr-only">Previous</span>
        </a>
        <a class="carousel-control-next" href="#cardCarousel" role="button" data-bs-slide="next">
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="sr-only">Next</span>
        </a>
      </div>
    </div>

    <div class="col-4 hide-popup" style="height: 250px; border-radius: 10px; margin-left: 16px; margin-right: 16px;"
      data-controller="map"
      data-map-markers-value="<%= @markers.to_json %>"
      data-map-api-key-value="<%= ENV['MAPBOX_API_KEY'] %>">
    </div>
  </div>

  <h3 style="text-align: center;"><%= "Things to do in #{@destination.name}" %></h3>
  <% if @activities.empty? %>
    <p>I'm sorry we have no recommendations at this time.</p>
  <% else %>
    <div class="row">
      <% @activities.each do |activity| %>
        <div class="col-3">
          <div class="card" style="width: 18rem; height: 20rem; padding: 20px;">
            <h4><%= activity.name %></h4>
            <h7><%= activity.activity_type %></h7>
            <p><p>
            <p><%= activity.description %></p>
          </div>
        </div>
      <% end %>
    </div>
  <% end %>
</div>
